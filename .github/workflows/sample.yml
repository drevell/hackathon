name: 'sample'
on:
  workflow_call:
    inputs:
      webhook_url:
        description: 'The webhook URL'
        type: 'string'
        required: true
      message:
        description: 'Message to be sent'
        type: 'string'
        required: true
      mention:
        description: "mention people or not, format <users/user_id>"
        type: 'string'
        required: true

jobs:
  checkout:
    runs-on: 'ubuntu-latest'
    steps:
      - uses: 'actions/checkout@v1'
      - name: 'Send error message'
        run: |
          curl -H "Content-Type: application/json" -X POST  "${{inputs.webhook_url}}" --data '{"text": "${{inputs.mention}} ${{inputs.message}}"}'
